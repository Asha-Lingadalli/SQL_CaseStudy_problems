# üìä Sales Analytics SQL Practice

This repository contains a **practice SQL project** built on a sample sales database. It includes multiple tables, realistic data, and a set of SQL questions ranging from **beginner to advanced levels**.  

---

## üèóÔ∏è Database Schema

The database consists of the following tables:

### `regions`
| Column       | Type        | Description                       |
|--------------|------------|-----------------------------------|
| region_id    | VARCHAR(5) | Primary key                       |
| region_name  | VARCHAR(50)| Region name                       |
| country      | VARCHAR(50)| Country                            |

### `stores`
| Column       | Type        | Description                       |
|--------------|------------|-----------------------------------|
| store_id     | VARCHAR(5) | Primary key                       |
| store_name   | VARCHAR(100)| Name of the store                 |
| region_id    | VARCHAR(5) | Foreign key ‚Üí `regions.region_id` |

### `customers`
| Column       | Type        | Description                       |
|--------------|------------|-----------------------------------|
| customer_id  | VARCHAR(5) | Primary key                       |
| first_name   | VARCHAR(50)| Customer first name               |
| last_name    | VARCHAR(50)| Customer last name                |
| gender       | CHAR(1)    | Gender (M/F)                      |
| join_date    | DATE       | Date the customer joined          |
| city         | VARCHAR(50)| Customer city                     |

### `products`
| Column       | Type        | Description                       |
|--------------|------------|-----------------------------------|
| product_id   | VARCHAR(5) | Primary key                       |
| product_name | VARCHAR(100)| Name of the product               |
| category     | VARCHAR(50)| Product category                  |
| price        | DECIMAL(10,2)| Product price                     |

### `transactions`
| Column         | Type         | Description                         |
|----------------|-------------|-------------------------------------|
| transaction_id | VARCHAR(5)  | Primary key                         |
| transaction_date| DATE       | Date of transaction                  |
| customer_id    | VARCHAR(5)  | Foreign key ‚Üí `customers.customer_id` |
| store_id       | VARCHAR(5)  | Foreign key ‚Üí `stores.store_id`    |
| product_id     | VARCHAR(5)  | Foreign key ‚Üí `products.product_id`|
| quantity       | INT         | Quantity sold                        |
| discount       | DECIMAL(5,2)| Discount applied (%)                 |
| total_amount   | DECIMAL(12,2)| Total transaction amount             |

---

## üìö Topics Covered

### Level 1 ‚Äì Beginner (Foundations)
- `SELECT`, `WHERE`, `ORDER BY`, `DISTINCT`, `LIMIT`

### Level 2 ‚Äì Intermediate
- Joins (`INNER`, `LEFT`), Aggregation functions (`SUM`, `AVG`, `COUNT`)
- `GROUP BY`, `ORDER BY`, `LIMIT`

### Level 3 ‚Äì Advanced
- Subqueries
- Common Table Expressions (CTEs)
- Window functions (`ROW_NUMBER()`)
- Aggregates with conditions (`HAVING`)

---

## üìù SQL Questions

### Level 1 ‚Äì Beginner
1. List all customers with their city and join date.  
2. Retrieve all transactions that happened in July 2023.  
3. Display all unique product categories from the products table.  
4. Find all products with a price greater than ‚Çπ10,000.  
5. Show the first 5 transactions sorted by transaction_date.  
6. Find all female customers (gender = 'F').  
7. Get all transactions where discount is greater than or equal to 10%.  
8. Show customer names who joined after January 2023.  
9. Find all stores located in the region "South India".  
10. Display the list of all products ordered in August 2023.  

### Level 2 ‚Äì Intermediate
11. Calculate the total revenue from all transactions.  
12. Show total revenue per store (store name + total amount).  
13. Find the total quantity sold of each product.  
14. Display the average discount applied across all transactions.  
15. List each customer along with their total number of transactions.  
16. Find the total revenue generated by each region.  
17. Calculate the average price of products per category.  
18. Show the top 3 stores based on total revenue (with and without CTE).  
19. Find the total revenue per month (group by month).  
20. Get the most popular product (highest total quantity sold) (with and without CTE).  

### Level 3 ‚Äì Advanced
21. Find customers who have purchased more than one distinct product.  
22. Display the highest single transaction value and which customer made it (with and without CTE).  
23. Find the total revenue per category by joining all required tables.  
24. Identify the top 3 customers by total spending amount.  
25. Show the average transaction amount per customer.  
26. List all customers who never received any discount on their purchases.  
27. Find all products that were never sold.  
28. Display for each store: the number of transactions and total quantity sold.  
29. Using a CTE, find the total revenue by region and their percentage of overall revenue.
30. Calculate the total revenue, total discount, and net effective price per product category.


### Level 4 ‚Äì Expert (Window Functions, Ranking, Analytics)
31. Rank customers based on their total spending (highest first).
32. For each region, rank stores by their revenue performance.
33. Show month-over-month revenue growth percentage for the entire business.
34. Identify repeat customers (who made more than one transaction).
35. For each product, find the average discount and compare it to the overall average discount.
36. Find the top 1 selling product per month.
37. For each customer, calculate their average transaction value and total purchase count.
38. Find customers who have spent above average compared to the overall mean revenue.
39. Calculate the cumulative revenue trend over time (using window functions).
40. Perform an RFM (Recency, Frequency, Monetary) analysis:
     1.Recency ‚Üí Days since last purchase.
     2.Frequency ‚Üí Total number of transactions.
     3.Monetary ‚Üí Total revenue spent.

---

## üí° Notes
- This project uses a **realistic sales dataset** with multiple tables to practice **SQL joins, aggregations, subqueries, and CTEs**.  
- Useful for **beginner to intermediate SQL learners** preparing for **interviews or case studies**.  
- All queries can be executed in **PostgreSQL**, **MySQL**, or similar relational databases.

